module.exports = [
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[project]/OneDrive/Bureau/WORK/arseet/client/app/layout.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/OneDrive/Bureau/WORK/arseet/client/app/layout.tsx [app-rsc] (ecmascript)"));
}),
"[project]/OneDrive/Bureau/WORK/arseet/client/components/details-produit.tsx [app-rsc] (client reference proxy) <module evaluation>", ((__turbopack_context__) => {
"use strict";

// This file is generated by next-core EcmascriptClientReferenceModule.
__turbopack_context__.s([
    "DetailsProduit",
    ()=>DetailsProduit
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/OneDrive/Bureau/WORK/arseet/client/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const DetailsProduit = (0, __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call DetailsProduit() from the server but DetailsProduit is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/OneDrive/Bureau/WORK/arseet/client/components/details-produit.tsx <module evaluation>", "DetailsProduit");
}),
"[project]/OneDrive/Bureau/WORK/arseet/client/components/details-produit.tsx [app-rsc] (client reference proxy)", ((__turbopack_context__) => {
"use strict";

// This file is generated by next-core EcmascriptClientReferenceModule.
__turbopack_context__.s([
    "DetailsProduit",
    ()=>DetailsProduit
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/OneDrive/Bureau/WORK/arseet/client/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const DetailsProduit = (0, __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call DetailsProduit() from the server but DetailsProduit is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/OneDrive/Bureau/WORK/arseet/client/components/details-produit.tsx", "DetailsProduit");
}),
"[project]/OneDrive/Bureau/WORK/arseet/client/components/details-produit.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

var __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$components$2f$details$2d$produit$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/OneDrive/Bureau/WORK/arseet/client/components/details-produit.tsx [app-rsc] (client reference proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$components$2f$details$2d$produit$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__ = __turbopack_context__.i("[project]/OneDrive/Bureau/WORK/arseet/client/components/details-produit.tsx [app-rsc] (client reference proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$components$2f$details$2d$produit$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__);
}),
"[project]/OneDrive/Bureau/WORK/arseet/client/app/produit/[id]/page.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>ProduitPage
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/OneDrive/Bureau/WORK/arseet/client/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$node_modules$2f$next$2f$dist$2f$api$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/OneDrive/Bureau/WORK/arseet/client/node_modules/next/dist/api/navigation.react-server.js [app-rsc] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/OneDrive/Bureau/WORK/arseet/client/node_modules/next/dist/client/components/navigation.react-server.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$components$2f$details$2d$produit$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/OneDrive/Bureau/WORK/arseet/client/components/details-produit.tsx [app-rsc] (ecmascript)");
;
;
;
// Function to convert API product to frontend product format
function convertAPIProduct(apiProduct) {
    console.log('Converting API Product:', apiProduct);
    console.log('API Tailles:', apiProduct.tailles);
    // Parse additional images from JSON string if needed
    let additionalImages = [];
    if (apiProduct.images) {
        try {
            additionalImages = typeof apiProduct.images === 'string' ? JSON.parse(apiProduct.images) : apiProduct.images;
        } catch (e) {
            additionalImages = Array.isArray(apiProduct.images) ? apiProduct.images : [];
        }
    }
    const mappedTailles = apiProduct.tailles?.map((t)=>typeof t === 'string' ? t : t.taille) || [];
    console.log('Mapped Tailles:', mappedTailles);
    return {
        id: apiProduct.id.toString(),
        nom: apiProduct.nom,
        // Ensure prix is a number (backend may send string or number)
        prix: typeof apiProduct.prix === 'string' ? parseFloat(apiProduct.prix) : apiProduct.prix,
        description: apiProduct.description,
        categorie: apiProduct.categorie,
        nouveau: apiProduct.est_nouveau,
        stock: apiProduct.stock,
        enRupture: apiProduct.en_rupture,
        // Promotion percent and computed promotional price
        promotionPercent: apiProduct.promotion ? Number(apiProduct.promotion) : 0,
        enPromotion: (apiProduct.promotion ? Number(apiProduct.promotion) : 0) > 0 || apiProduct.en_promotion,
        prixPromotion: apiProduct.promotion ? (typeof apiProduct.prix === 'string' ? parseFloat(apiProduct.prix) : apiProduct.prix) * (1 - Number(apiProduct.promotion) / 100) : undefined,
        tailles: mappedTailles,
        additionalImages: additionalImages.slice(0, 10),
        couleurs: apiProduct.couleurs?.map((c)=>({
                nom: c.couleur,
                code: c.code_hexa,
                imageFront: apiProduct.image_avant || "/placeholder.svg",
                imageBack: apiProduct.image_arriere || "/placeholder.svg"
            })) || []
    };
}
async function getProduct(id) {
    try {
        const { API_BASE_URL } = await __turbopack_context__.A("[project]/OneDrive/Bureau/WORK/arseet/client/lib/api.ts [app-rsc] (ecmascript, async loader)");
        const response = await fetch(`${API_BASE_URL}/api/produits/${id}`, {
            cache: "no-store"
        });
        if (!response.ok) {
            return null;
        }
        const data = await response.json();
        if (data.success && data.data) {
            return convertAPIProduct(data.data);
        }
        return null;
    } catch (error) {
        console.error("Error fetching product:", error);
        return null;
    }
}
async function ProduitPage({ params }) {
    const { id } = await params;
    const produit = await getProduct(id);
    if (!produit) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["notFound"])();
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("main", {
        className: "container mx-auto px-4 py-12",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Bureau$2f$WORK$2f$arseet$2f$client$2f$components$2f$details$2d$produit$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["DetailsProduit"], {
            produit: produit
        }, void 0, false, {
            fileName: "[project]/OneDrive/Bureau/WORK/arseet/client/app/produit/[id]/page.tsx",
            lineNumber: 90,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/OneDrive/Bureau/WORK/arseet/client/app/produit/[id]/page.tsx",
        lineNumber: 89,
        columnNumber: 5
    }, this);
}
}),
"[project]/OneDrive/Bureau/WORK/arseet/client/app/produit/[id]/page.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/OneDrive/Bureau/WORK/arseet/client/app/produit/[id]/page.tsx [app-rsc] (ecmascript)"));
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__9c97bf06._.js.map